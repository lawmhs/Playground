CC=gcc
LIBB = /usr/local/lib/libtask/
INCLUDES = /usr/local/lib/libtask/ -I/usr/include/python3.6m
CFLAGS += -I$(INCLUDES)
LDFLAGS += -L$(LIBB)
LDFLAGS += -static -ltask -lpython3.6m -l,

%.o: %.c $(DEPS)
	$(CC) -c -o $@ $< $(CFLAGS)

main: main.o sieve.o /usr/local/lib/libtask/libtask.a
	$(CC) -o main main.o sieve.o $(LDFLAGS)

clean:
	rm -f *.o
	rm -f main

run:
	make
	./main
